N, L = map(int, input().split())
D = list(map(int, input().split()))

# ----------------------------
# 1. L が 3 の倍数でなければ正三角形は作れない
# ----------------------------
if L % 3 != 0:
    print(0)
    exit()

# ----------------------------
# 2. 各点の「円周上の位置」を求める
#    点1を位置0として、そこから距離を順に加算
# ----------------------------
pos = [0]  # 点1の位置
for d in D:
    pos.append((pos[-1] + d) % L)

# ----------------------------
# 3. 各位置に点がいくつあるかをカウント
#    （同じ位置に複数ある場合もある）
# ----------------------------
cnt = [0] * L
for p in pos:
    cnt[p] += 1

# ----------------------------
# 4. 正三角形の3頂点の位置関係を利用
#    各点pに対して (p, p+L/3, p+2L/3) が全て存在すればOK
# ----------------------------
step = L // 3
ans = 0
for p in range(L):
    ans += cnt[p] * cnt[(p + step) % L] * cnt[(p + 2 * step) % L]

# ----------------------------
# 5. 各正三角形を3回ずつ数えているので /3 する
# ----------------------------
print(ans // 3)
